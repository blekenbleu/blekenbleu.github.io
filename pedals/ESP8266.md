25 October 2018

## Logitech G29 brake mods

### Problems
By lacking inertial cues from velocity changes, sim racing seems harder than real.
Although Logitech improved pedal feel with their G29, braking remains problematic:,
*   signal to sim software is based on pedal movement distance, not pressure.
*   feedback, if any, for tires losing grip during braking currently comes thru the steering wheel, instead of the brake pedal.

### Project
Brake simulation shortcomings can be mitigated by:

*   replacing brake potentiometer with a [load cell](https://imgur.com/gallery/gOjAf)  
    * That mod is analog conversion, problematic with Logitech's brake curve
    * [SP_Adapter](https://github.com/robotsrulz/SP_Adapter) separates pedals from wheel.  
*   simulating ABS feedback at the brake pedal  
    * e.g. @ 3:47/10:56 of this video: [DIY RUMBLE PEDALS SIM RACING](https://www.youtube.com/watch?v=8aLqqcEaUVk)  
    * Get tire slip data from Assetto Corsa via UDP socket or [Python](https://gist.github.com/robertcedwards/2f7a061af8ccc987aab2)  
    * [proTyres app](https://www.assettocorsa.net/forum/index.php?threads/protyres-v1-0-0-it%E2%80%99s-all-about-the-tyre.43361/) [*requires registration*]
includes indicator for Tyre slip during braking  

### Assetto Corsa software development
*  addressed in [STM32](STM32) document

### ESP8266 USB adapter for Logitech G29 pedals with load cell brake
- Prototype using [WeMos D1 UNO R1 ESP8266](../Arduino/ESPDuino)
- Clone code from [Logitech pedals as separate USB game controller](https://github.com/robotsrulz/SP_Adapter)
  - Problem: D1 UNO uses CH340G chip for USB
    - only serial port emulation, not [gaming HID](../Windows/HID)
  - workaround: [VJoySerialFeeder](../Arduino/VJoySerialFeeder) and/or [mi-360](../Arduino/mi360) + [Serial-Lab](../Windows/SerialLab)


### HX711 support
-  [ESP8266 and HX711](https://blog.squix.org/2016/07/esp8266-turn-a-9-body-scale-into-a-smart-scale-part-1.html)
   - [wifi-scale at github](https://github.com/squix78/esp8266-projects/tree/master/arduino-ide/wifi-scale)
   - [another ESP8266 + HX711 scale](http://blog.heredero.org/pese-personne-wifi/)
   - [ESP8266 kegbot](https://github.com/drifterz28/kegbot)
   - [thirsdee: display + thingspeak](https://github.com/squix78/esp8266-projects/tree/master/arduino-ide/thirsdee)
     - [thirsdee on squix](https://blog.squix.org/2015/06/esp8266-meet-thirsdee-intelligent-plant.html)
-  [ESP8266, HX711 and a load cell](https://community.mydevices.com/t/newbie-needs-help-with-esp8266-hx711-and-a-load-cell/7715)
-  [Arduino HX711 library](https://github.com/bogde/HX711)
-  [troubleshooting HX711 with NodeMCU](https://github.com/bogde/HX711/issues/67)
